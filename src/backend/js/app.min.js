(function(){angular.module("BahumaShopBackend",["ngMaterial","ngRoute"])}).call(this);
(function(){angular.module("BahumaShopBackend").config(["$mdIconProvider",function(n){return n.icon("menu","./img/icons/menu.svg"),n.icon("settings","./img/icons/settings.svg"),n.icon("person","./img/icons/person.svg"),n.icon("lock","./img/icons/lock.svg"),n.icon("add","./img/icons/add.svg"),n.icon("arrow-back","./img/icons/arrow-back.svg")}])}).call(this);
(function(){angular.module("BahumaShopBackend").config(["$routeProvider",function(e){return e.when("/categories",{templateUrl:"templates/categories.html",controller:"CategoriesCtrl"}).when("/categories/add",{templateUrl:"templates/category-detail.html",controller:"CategoryDetailCtrl"}).when("/login",{templateUrl:"templates/login.html",controller:"LoginCtrl"}).when("/logout",{template:"",controller:"LogoutCtrl"}).when("/dashboard",{templateUrl:"templates/dashboard.html",controller:"DashboardCtrl"}).otherwise({redirectTo:"/dashboard"})}])}).call(this);
(function(){angular.module("BahumaShopBackend").run(["$rootScope","$location","BahumaShopApi",function(n,t,r){return r.user.getMe().success(function(t){return n.rsUser=t}).error(function(){return t.path("/login")})["finally"](function(){return n.$on("$routeChangeStart",function(r,e,o){return n.rsUser||"templates/login.html"===e.templateUrl?void 0:t.path("/login")})})}])}).call(this);
(function(){angular.module("BahumaShopBackend").factory("BahumaShopApi",["$http",function(t){var u,e;return e="../api",u={category:{},auth:{},user:{}},u.category.getAll=function(){return t.get(e+"/category")},u.auth.login=function(u,n){return t.post(e+"/auth/login",{username:u,password:n})},u.auth.logout=function(){return t.get(e+"/auth/logout")},u.user.getMe=function(){return t.get(e+"/user/me")},u}])}).call(this);
(function(){angular.module("BahumaShopBackend").controller("CategoriesCtrl",["$scope","BahumaShopApi",function(e,o){return e.categories,o.category.getAll().success(function(o){return e.categories=o})}])}).call(this);
(function(){angular.module("BahumaShopBackend").controller("CategoryDetailCtrl",["$scope","$location","$mdToast","BahumaShopApi",function(o,t,e){return o.action="Add",o.category={name:"",description:""},o.save=function(){return e.categories.add(o.category.name,o.category.description).success(function(o){return $mdToast.show($mdToast.simple().content("Category Saved").position("top right")),t.path("/categories")}).error(function(o){return $mdToast.show($mdToast.simple().content("Error: "+o.message).position("top right"))})}}])}).call(this);
(function(){angular.module("BahumaShopBackend").controller("DashboardCtrl",["$scope","BahumaShopApi",function(a,o){}])}).call(this);
(function(){angular.module("BahumaShopBackend").controller("LoginCtrl",["$rootScope","$scope","$location","$mdToast","BahumaShopApi",function(o,n,r,t,e){return o.rsUser&&r.path("/dashboard"),n.user={name:"",password:""},n.loading=!1,n.login=function(){return n.loading=!0,e.auth.login(n.user.name,n.user.password).success(function(n){return o.rsUser=n.object,r.path("/dashboard"),t.show(t.simple().content("Logged in as "+n.object.username).position("top right"))}).error(function(o,n){return t.show(t.simple().content("User / Password not correct").position("top right"))})["finally"](function(){return n.loading=!1})}}])}).call(this);
(function(){angular.module("BahumaShopBackend").controller("LogoutCtrl",["$rootScope","$location","BahumaShopApi",function(o,t,n){return n.auth.logout().success(function(n){return console.log("Logged out"),o.rsUser=!1,t.path("/login")})}])}).call(this);
(function(){angular.module("BahumaShopBackend").controller("SideNavCtrl",["$scope","$mdSidenav","$mdMedia",function(n,t,e){return n.toggle=function(){return t("left").toggle()},n.buttonVisible=function(){return!e("gt-md")}}])}).call(this);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb2ZmZWUiLCJhcHAuanMiLCJjb25maWcvbWRJY29uUHJvdmlkZXIuY29mZmVlIiwiY29uZmlnL21kSWNvblByb3ZpZGVyLmpzIiwiY29uZmlnL3JvdXRlci5jb2ZmZWUiLCJjb25maWcvcm91dGVyLmpzIiwiY29uZmlnL3J1bi5jb2ZmZWUiLCJjb25maWcvcnVuLmpzIiwiZmFjdG9yeS9CYWh1bWFTaG9wQXBpLmNvZmZlZSIsImZhY3RvcnkvQmFodW1hU2hvcEFwaS5qcyIsImNvbnRyb2xsZXIvY2F0ZWdvcmllcy5jb2ZmZWUiLCJjb250cm9sbGVyL2NhdGVnb3JpZXMuanMiLCJjb250cm9sbGVyL2NhdGVnb3J5RGV0YWlsLmNvZmZlZSIsImNvbnRyb2xsZXIvY2F0ZWdvcnlEZXRhaWwuanMiLCJjb250cm9sbGVyL2Rhc2hib2FyZC5jb2ZmZWUiLCJjb250cm9sbGVyL2Rhc2hib2FyZC5qcyIsImNvbnRyb2xsZXIvbG9naW4uY29mZmVlIiwiY29udHJvbGxlci9sb2dpbi5qcyIsImNvbnRyb2xsZXIvbG9nb3V0LmNvZmZlZSIsImNvbnRyb2xsZXIvbG9nb3V0LmpzIiwiY29udHJvbGxlci9zaWRlTmF2LmNvZmZlZSIsImNvbnRyb2xsZXIvc2lkZU5hdi5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY2FsbCIsInRoaXMiLCJjb25maWciLCIkbWRJY29uUHJvdmlkZXIiLCJpY29uIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwidGVtcGxhdGUiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwicnVuIiwiJHJvb3RTY29wZSIsIiRsb2NhdGlvbiIsIkJhaHVtYVNob3BBcGkiLCJ1c2VyIiwiZ2V0TWUiLCJzdWNjZXNzIiwiZGF0YSIsInJzVXNlciIsImVycm9yIiwicGF0aCIsIiRvbiIsImV2ZW50IiwibmV4dCIsImN1cnJlbnQiLCJmYWN0b3J5IiwiJGh0dHAiLCJhcGkiLCJiYXNlUGF0aCIsImNhdGVnb3J5IiwiYXV0aCIsImdldEFsbCIsImdldCIsImxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInBvc3QiLCJsb2dvdXQiLCIkc2NvcGUiLCJjYXRlZ29yaWVzIiwiYWN0aW9uIiwibmFtZSIsImRlc2NyaXB0aW9uIiwic2F2ZSIsImFkZCIsIiRtZFRvYXN0Iiwic2hvdyIsInNpbXBsZSIsImNvbnRlbnQiLCJwb3NpdGlvbiIsIm1lc3NhZ2UiLCJsb2FkaW5nIiwib2JqZWN0Iiwic3RhdHVzIiwiY29uc29sZSIsImxvZyIsIiRtZFNpZGVuYXYiLCIkbWRNZWRpYSIsInRvZ2dsZSIsImJ1dHRvblZpc2libGUiXSwibWFwcGluZ3MiOiJDQUFBLFdBQUFBLFFBQVFDLE9BQU8scUJBQXNCLGFBQWMsY0NHaERDLEtBQUtDO0NDSFIsV0FBQUgsUUFBUUMsT0FBTyxxQkFBcUJHLFFBQVEsa0JBQW1CLFNBQUNDLEdDUTFELE1EUEZBLEdBQWdCQyxLQUFLLE9BQVEsd0JBQzdCRCxFQUFnQkMsS0FBSyxXQUFZLDRCQUNqQ0QsRUFBZ0JDLEtBQUssU0FBVSwwQkFDL0JELEVBQWdCQyxLQUFLLE9BQVEsd0JBQzdCRCxFQUFnQkMsS0FBSyxNQUFPLHVCQUM1QkQsRUFBZ0JDLEtBQUssYUFBYyxtQ0NNcENKLEtBQUtDO0NDWlIsV0FBQUgsUUFBUUMsT0FBTyxxQkFBcUJHLFFBQVEsaUJBQWtCLFNBQUNHLEdDR3pELE1ERkpBLEdBRUNDLEtBQUssZUFDSkMsWUFBYSw0QkFDYkMsV0FBWSxtQkFHYkYsS0FBSyxtQkFDSkMsWUFBYSxpQ0FDYkMsV0FBWSx1QkFHYkYsS0FBSyxVQUNKQyxZQUFhLHVCQUNiQyxXQUFZLGNBR2JGLEtBQUssV0FDSkcsU0FBVSxHQUNWRCxXQUFZLGVBR2JGLEtBQUssY0FDSkMsWUFBYSwyQkFDYkMsV0FBWSxrQkFHYkUsV0FDQ0MsV0FBWSxvQkNMYlgsS0FBS0M7Q0N4QlIsV0FBQUgsUUFBUUMsT0FBTyxxQkFBcUJhLEtBQUssYUFBYyxZQUFhLGdCQUFpQixTQUFDQyxFQUFh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V0FBUSxXQ0FSLE1EQ0VYLEdBQU9hLFNBQVUsVUNLMUJyRCxLQUFLQztDQzFCUixXQUFBSCxRQUFRQyxPQUFPLHFCQUFxQlMsV0FBVyxjQUFlLGFBQWMsWUFBYSxnQkFBaUIsU0FBQ0ssRUFBWUMsRUFBV0MsR0NHNUgsTURGRkEsR0FBY2lCLEtBQUtPLFNBQVNyQixRQUFRLFNBQUNDLEdDS2pDLE1ESkFxQyxTQUFRQyxJQUFJLGNBQ1o1QyxFQUFXTyxRQUFTLEVBQ3BCTixFQUFVUSxLQUFLLGlCQ09wQnRCLEtBQUtDO0NDWFIsV0FBQUgsUUFBUUMsT0FBTyxxQkFBcUJTLFdBQVcsZUFBZ0IsU0FBVSxhQUFjLFdBQVksU0FBQ2dDLEVBQVFrQixFQUFZQyxHQ01sSCxNRExKbkIsR0FBT29CLE9BQVMsV0NHVixNREZKRixHQUFXLFFBQVFFLFVBRXJCcEIsRUFBT3FCLGNBQWdCLFdDR2pCLE9ERkpGLEVBQVUsZUNPWDNELEtBQUtDIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZShcIkJhaHVtYVNob3BCYWNrZW5kXCIsIFtcIm5nTWF0ZXJpYWxcIiwgXCJuZ1JvdXRlXCJdKVxuIixudWxsLCJhbmd1bGFyLm1vZHVsZShcIkJhaHVtYVNob3BCYWNrZW5kXCIpLmNvbmZpZyhbXCIkbWRJY29uUHJvdmlkZXJcIiwgKCRtZEljb25Qcm92aWRlcikgLT5cbiAgICAkbWRJY29uUHJvdmlkZXIuaWNvbihcIm1lbnVcIiwgXCIuL2ltZy9pY29ucy9tZW51LnN2Z1wiKVxuICAgICRtZEljb25Qcm92aWRlci5pY29uKFwic2V0dGluZ3NcIiwgXCIuL2ltZy9pY29ucy9zZXR0aW5ncy5zdmdcIilcbiAgICAkbWRJY29uUHJvdmlkZXIuaWNvbihcInBlcnNvblwiLCBcIi4vaW1nL2ljb25zL3BlcnNvbi5zdmdcIilcbiAgICAkbWRJY29uUHJvdmlkZXIuaWNvbihcImxvY2tcIiwgXCIuL2ltZy9pY29ucy9sb2NrLnN2Z1wiKVxuICAgICRtZEljb25Qcm92aWRlci5pY29uKFwiYWRkXCIsIFwiLi9pbWcvaWNvbnMvYWRkLnN2Z1wiKVxuICAgICRtZEljb25Qcm92aWRlci5pY29uKFwiYXJyb3ctYmFja1wiLCBcIi4vaW1nL2ljb25zL2Fycm93LWJhY2suc3ZnXCIpXG5dKSIsbnVsbCwiYW5ndWxhci5tb2R1bGUoXCJCYWh1bWFTaG9wQmFja2VuZFwiKS5jb25maWcoW1wiJHJvdXRlUHJvdmlkZXJcIiwgKCRyb3V0ZVByb3ZpZGVyKSAtPlxuICAkcm91dGVQcm92aWRlclxuICBcbiAgLndoZW4oXCIvY2F0ZWdvcmllc1wiLCB7XG4gICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL2NhdGVnb3JpZXMuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiQ2F0ZWdvcmllc0N0cmxcIlxuICB9KVxuICBcbiAgLndoZW4oXCIvY2F0ZWdvcmllcy9hZGRcIiwge1xuICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9jYXRlZ29yeS1kZXRhaWwuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiQ2F0ZWdvcnlEZXRhaWxDdHJsXCJcbiAgfSlcbiAgXG4gIC53aGVuKFwiL2xvZ2luXCIsIHtcbiAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvbG9naW4uaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6IFwiTG9naW5DdHJsXCJcbiAgfSlcbiAgXG4gIC53aGVuKFwiL2xvZ291dFwiLCB7XG4gICAgdGVtcGxhdGU6IFwiXCIsXG4gICAgY29udHJvbGxlcjogXCJMb2dvdXRDdHJsXCJcbiAgfSlcbiAgXG4gIC53aGVuKFwiL2Rhc2hib2FyZFwiLCB7XG4gICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL2Rhc2hib2FyZC5odG1sXCIsXG4gICAgY29udHJvbGxlcjogXCJEYXNoYm9hcmRDdHJsXCJcbiAgfSlcbiAgXG4gIC5vdGhlcndpc2Uoe1xuICAgIHJlZGlyZWN0VG86IFwiL2Rhc2hib2FyZFwiXG4gIH0pXG5dKVxuIixudWxsLCJhbmd1bGFyLm1vZHVsZShcIkJhaHVtYVNob3BCYWNrZW5kXCIpLnJ1bihbXCIkcm9vdFNjb3BlXCIsIFwiJGxvY2F0aW9uXCIsIFwiQmFodW1hU2hvcEFwaVwiLCAoJHJvb3RTY29wZSwgICRsb2NhdGlvbiwgQmFodW1hU2hvcEFwaSkgLT5cbiAgICBCYWh1bWFTaG9wQXBpLnVzZXIuZ2V0TWUoKS5zdWNjZXNzKChkYXRhKSAtPlxuICAgICAgICAkcm9vdFNjb3BlLnJzVXNlciA9IGRhdGFcbiAgICApLmVycm9yKCgpIC0+XG4gICAgICAgICRsb2NhdGlvbi5wYXRoKFwiL2xvZ2luXCIpXG4gICAgKS5maW5hbGx5KCgpIC0+XG4gICAgICAgICRyb290U2NvcGUuJG9uKFwiJHJvdXRlQ2hhbmdlU3RhcnRcIiwgKGV2ZW50LCBuZXh0LCBjdXJyZW50KSAtPlxuICAgICAgICBcbiAgICAgICAgICAgIGlmICEkcm9vdFNjb3BlLnJzVXNlclxuICAgICAgICAgICAgICAgIGlmIG5leHQudGVtcGxhdGVVcmwgPT0gXCJ0ZW1wbGF0ZXMvbG9naW4uaHRtbFwiXG4gICAgICAgICAgICAgICAgICAgICMgQWxyZWFkeSBnb2luZyB0byBsb2dpblxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoXCIvbG9naW5cIilcbiAgICAgICAgKVxuICAgICAgICBcbiAgICApXG5dKSIsbnVsbCwiYW5ndWxhci5tb2R1bGUoXCJCYWh1bWFTaG9wQmFja2VuZFwiKS5mYWN0b3J5KFwiQmFodW1hU2hvcEFwaVwiLCBbXCIkaHR0cFwiLCAoJGh0dHApIC0+XG4gIGJhc2VQYXRoID0gXCIuLi9hcGlcIlxuXG4gIGFwaSA9IHtcbiAgICBjYXRlZ29yeToge30sXG4gICAgYXV0aDoge30sXG4gICAgdXNlcjoge31cbiAgfVxuXG4gIGFwaS5jYXRlZ29yeS5nZXRBbGwgPSAoKSAtPlxuICAgICRodHRwLmdldChiYXNlUGF0aCArIFwiL2NhdGVnb3J5XCIpXG4gIFxuICBhcGkuYXV0aC5sb2dpbiA9ICh1c2VybmFtZSwgcGFzc3dvcmQpIC0+XG4gICAgJGh0dHAucG9zdChiYXNlUGF0aCArIFwiL2F1dGgvbG9naW5cIiwge1xuICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkXG4gICAgfSlcbiAgICBcbiAgYXBpLmF1dGgubG9nb3V0ID0gKCkgLT5cbiAgICAkaHR0cC5nZXQoYmFzZVBhdGggKyBcIi9hdXRoL2xvZ291dFwiKVxuICBcbiAgYXBpLnVzZXIuZ2V0TWUgPSAoKSAtPlxuICAgICRodHRwLmdldChiYXNlUGF0aCArIFwiL3VzZXIvbWVcIilcbiAgXG4gIGFwaVxuXSlcbiIsbnVsbCwiYW5ndWxhci5tb2R1bGUoXCJCYWh1bWFTaG9wQmFja2VuZFwiKS5jb250cm9sbGVyKFwiQ2F0ZWdvcmllc0N0cmxcIiwgW1wiJHNjb3BlXCIsIFwiQmFodW1hU2hvcEFwaVwiLCAoJHNjb3BlLCBCYWh1bWFTaG9wQXBpKSAtPlxuICAkc2NvcGUuY2F0ZWdvcmllc1xuXG4gIEJhaHVtYVNob3BBcGkuY2F0ZWdvcnkuZ2V0QWxsKCkuc3VjY2VzcygoZGF0YSkgLT5cbiAgICAkc2NvcGUuY2F0ZWdvcmllcyA9IGRhdGFcbiAgKVxuXSlcbiIsbnVsbCwiYW5ndWxhci5tb2R1bGUoXCJCYWh1bWFTaG9wQmFja2VuZFwiKS5jb250cm9sbGVyKFwiQ2F0ZWdvcnlEZXRhaWxDdHJsXCIsIFtcIiRzY29wZVwiLCBcIiRsb2NhdGlvblwiLCBcIiRtZFRvYXN0XCIsIFwiQmFodW1hU2hvcEFwaVwiLCAoJHNjb3BlLCAkbG9jYXRpb24sIEJhaHVtYVNob3BBcGkpIC0+XG4gICAgJHNjb3BlLmFjdGlvbiA9IFwiQWRkXCJcbiAgICAkc2NvcGUuY2F0ZWdvcnkgPSB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIH1cbiAgICBcbiAgICAkc2NvcGUuc2F2ZSA9ICgpIC0+XG4gICAgICAgIEJhaHVtYVNob3BBcGkuY2F0ZWdvcmllcy5hZGQoJHNjb3BlLmNhdGVnb3J5Lm5hbWUsICRzY29wZS5jYXRlZ29yeS5kZXNjcmlwdGlvbikuc3VjY2VzcygoZGF0YSkgLT5cbiAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChcIkNhdGVnb3J5IFNhdmVkXCIpLnBvc2l0aW9uKFwidG9wIHJpZ2h0XCIpKVxuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoXCIvY2F0ZWdvcmllc1wiKVxuICAgICAgICApLmVycm9yKChkYXRhKSAtPlxuICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KFwiRXJyb3I6IFwiICsgZGF0YS5tZXNzYWdlKS5wb3NpdGlvbihcInRvcCByaWdodFwiKSlcbiAgICAgICAgKVxuXSkiLG51bGwsImFuZ3VsYXIubW9kdWxlKFwiQmFodW1hU2hvcEJhY2tlbmRcIikuY29udHJvbGxlcihcIkRhc2hib2FyZEN0cmxcIiwgW1wiJHNjb3BlXCIsIFwiQmFodW1hU2hvcEFwaVwiLCAoJHNjb3BlLCBCYWh1bWFTaG9wQXBpKSAtPlxuICBcbl0pXG4iLG51bGwsImFuZ3VsYXIubW9kdWxlKFwiQmFodW1hU2hvcEJhY2tlbmRcIikuY29udHJvbGxlcihcIkxvZ2luQ3RybFwiLCBbXCIkcm9vdFNjb3BlXCIsIFwiJHNjb3BlXCIsIFwiJGxvY2F0aW9uXCIsIFwiJG1kVG9hc3RcIiwgXCJCYWh1bWFTaG9wQXBpXCIsICgkcm9vdFNjb3BlLCAkc2NvcGUsICRsb2NhdGlvbiwgJG1kVG9hc3QsIEJhaHVtYVNob3BBcGkpIC0+XG4gICAgaWYgJHJvb3RTY29wZS5yc1VzZXJcbiAgICAgICAgJGxvY2F0aW9uLnBhdGgoXCIvZGFzaGJvYXJkXCIpXG4gICAgXG4gICAgJHNjb3BlLnVzZXIgPSB7XG4gICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgIHBhc3N3b3JkOiBcIlwiXG4gICAgfVxuICAgIFxuICAgICRzY29wZS5sb2FkaW5nID0gZmFsc2VcbiAgICBcbiAgICAkc2NvcGUubG9naW4gPSAoKSAtPlxuICAgICAgICAkc2NvcGUubG9hZGluZyA9IHRydWVcbiAgICAgICAgXG4gICAgICAgIEJhaHVtYVNob3BBcGkuYXV0aC5sb2dpbigkc2NvcGUudXNlci5uYW1lLCAkc2NvcGUudXNlci5wYXNzd29yZCkuc3VjY2VzcygoZGF0YSktPlxuICAgICAgICAgICAgJHJvb3RTY29wZS5yc1VzZXIgPSBkYXRhLm9iamVjdFxuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoXCIvZGFzaGJvYXJkXCIpXG4gICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoXCJMb2dnZWQgaW4gYXMgXCIgKyBkYXRhLm9iamVjdC51c2VybmFtZSkucG9zaXRpb24oXCJ0b3AgcmlnaHRcIikpXG4gICAgICAgICkuZXJyb3IoKGRhdGEsIHN0YXR1cyktPlxuICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KFwiVXNlciAvIFBhc3N3b3JkIG5vdCBjb3JyZWN0XCIpLnBvc2l0aW9uKFwidG9wIHJpZ2h0XCIpKVxuICAgICAgICApLmZpbmFsbHkoKCkgLT5cbiAgICAgICAgICAgICRzY29wZS5sb2FkaW5nID0gZmFsc2VcbiAgICAgICAgKVxuXSkiLG51bGwsImFuZ3VsYXIubW9kdWxlKFwiQmFodW1hU2hvcEJhY2tlbmRcIikuY29udHJvbGxlcihcIkxvZ291dEN0cmxcIiwgW1wiJHJvb3RTY29wZVwiLCBcIiRsb2NhdGlvblwiLCBcIkJhaHVtYVNob3BBcGlcIiwgKCRyb290U2NvcGUsICRsb2NhdGlvbiwgQmFodW1hU2hvcEFwaSkgLT5cbiAgICBCYWh1bWFTaG9wQXBpLmF1dGgubG9nb3V0KCkuc3VjY2VzcygoZGF0YSkgLT5cbiAgICAgICAgY29uc29sZS5sb2coXCJMb2dnZWQgb3V0XCIpXG4gICAgICAgICRyb290U2NvcGUucnNVc2VyID0gZmFsc2VcbiAgICAgICAgJGxvY2F0aW9uLnBhdGgoXCIvbG9naW5cIilcbiAgICApXG5dKSIsbnVsbCwiYW5ndWxhci5tb2R1bGUoXCJCYWh1bWFTaG9wQmFja2VuZFwiKS5jb250cm9sbGVyKFwiU2lkZU5hdkN0cmxcIiwgW1wiJHNjb3BlXCIsIFwiJG1kU2lkZW5hdlwiLCBcIiRtZE1lZGlhXCIsICgkc2NvcGUsICRtZFNpZGVuYXYsICRtZE1lZGlhKSAtPlxuICAkc2NvcGUudG9nZ2xlID0gKCkgLT5cbiAgICAkbWRTaWRlbmF2KFwibGVmdFwiKS50b2dnbGUoKTtcbiAgICBcbiAgJHNjb3BlLmJ1dHRvblZpc2libGUgPSAoKSAtPlxuICAgICEkbWRNZWRpYShcImd0LW1kXCIpXG5dKVxuIixudWxsXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=